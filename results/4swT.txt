sbc-bench v0.9.40 StarFive VisionFive V2 (Sun, 02 Apr 2023 20:20:59 +0000)

Distributor ID:	Debian
Description:	Debian GNU/Linux bookworm/sid
Codename:	bookworm

/usr/bin/gcc (Debian 12.2.0-10) 12.2.0

Uptime: 20:20:59 up 35 min,  2 users,  load average: 0.07, 0.37, 0.38,  42.5°C,  342871982

Linux 5.15.0-starfive (starfive) 	04/02/23 	_riscv64_	(4 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           5.19    0.01    0.67    1.15    0.00   92.98

Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd
mmcblk1           9.03       171.69       290.63      2277.97     368901     624464    4894582
nvme0n1           0.05         0.98         0.00         0.00       2108          0          0

               total        used        free      shared  buff/cache   available
Mem:           7.7Gi       389Mi       7.3Gi       3.2Mi       137Mi       7.4Gi
Swap:             0B          0B          0B

##########################################################################

Checking cpufreq OPP (sifive,u74-mc):

Cpufreq OPP: 1500    Measured: 1498 (1498.946/1498.912/1498.810)
Cpufreq OPP:  750    Measured:  749    (749.068/749.068/749.035)
Cpufreq OPP:  500    Measured:  498    (498.996/498.915/498.904)
Cpufreq OPP:  375    Measured:  374    (374.114/374.082/374.042)

##########################################################################

Hardware sensors:

120e0000.tmon-isa-0000
temp1:        +41.9 C  

##########################################################################

Executing benchmark on cpu0 (sifive,u74-mc):

tinymembench v0.4.9-nuumio (simple benchmark for memory throughput and latency)

CFLAGS: 
bandwidth test min repeats (-b): 2
bandwidth test max repeats (-B): 3
bandwidth test mem realloc (-M): no      (-m for realloc)
      latency test repeats (-l): 3
        latency test count (-c): 1000000

==========================================================================
== Memory bandwidth tests                                               ==
==                                                                      ==
== Note 1: 1MB = 1000000 bytes                                          ==
== Note 2: Test result is the best of repeated runs. Number of repeats  ==
==         is shown in brackets                                         ==
== Note 3: Results for 'copy' tests show how many bytes can be          ==
==         copied per second (adding together read and writen           ==
==         bytes would have provided twice higher numbers)              ==
== Note 4: 2-pass copy means that we are using a small temporary buffer ==
==         to first fetch data into it, and only then write it to the   ==
==         destination (source -> L1 cache, L1 cache -> destination)    ==
== Note 5: If sample standard deviation exceeds 0.1%, it is shown in    ==
==         brackets                                                     ==
==========================================================================

 C copy backwards                                 :    864.1 MB/s (3, 2.3%)
 C copy backwards (32 byte blocks)                :    863.7 MB/s (2)
 C copy backwards (64 byte blocks)                :    864.4 MB/s (2)
 C copy                                           :    879.1 MB/s (2)
 C copy prefetched (32 bytes step)                :    878.3 MB/s (2)
 C copy prefetched (64 bytes step)                :    877.9 MB/s (3, 0.1%)
 C 2-pass copy                                    :    589.0 MB/s (2)
 C 2-pass copy prefetched (32 bytes step)         :    594.6 MB/s (3, 0.5%)
 C 2-pass copy prefetched (64 bytes step)         :    589.9 MB/s (2)
 C scan 8                                         :    581.1 MB/s (3, 0.4%)
 C scan 16                                        :    553.2 MB/s (2)
 C scan 32                                        :   1014.1 MB/s (2)
 C scan 64                                        :   1245.1 MB/s (3, 0.2%)
 C fill                                           :    765.9 MB/s (2)
 C fill (shuffle within 16 byte blocks)           :    765.2 MB/s (2)
 C fill (shuffle within 32 byte blocks)           :    765.8 MB/s (2)
 C fill (shuffle within 64 byte blocks)           :    765.4 MB/s (2)
 ---
 libc memcpy copy                                 :    877.4 MB/s (3, 0.4%)
 libc memchr scan                                 :   1198.4 MB/s (2)
 libc memset fill                                 :    765.7 MB/s (2)

==========================================================================
== Memory latency test                                                  ==
==                                                                      ==
== Average time is measured for random memory accesses in the buffers   ==
== of different sizes. The larger is the buffer, the more significant   ==
== are relative contributions of TLB, L1/L2 cache misses and SDRAM      ==
== accesses. For extremely large buffer sizes we are expecting to see   ==
== page table walk with several requests to SDRAM for almost every      ==
== memory access (though 64MiB is not nearly large enough to experience ==
== this effect to its fullest).                                         ==
==                                                                      ==
== Note 1: All the numbers are representing extra time, which needs to  ==
==         be added to L1 cache latency. The cycle timings for L1 cache ==
==         latency can be usually found in the processor documentation. ==
== Note 2: Dual random read means that we are simultaneously performing ==
==         two independent memory accesses at a time. In the case if    ==
==         the memory subsystem can't handle multiple outstanding       ==
==         requests, dual random read has the same timings as two       ==
==         single reads performed one after another.                    ==
==========================================================================

block size : single random read / dual random read
      1024 :    0.0 ns          /     0.0 ns 
      2048 :    0.0 ns          /     0.0 ns 
      4096 :    0.0 ns          /     0.0 ns 
      8192 :    0.0 ns          /     0.0 ns 
     16384 :    0.0 ns          /     0.0 ns 
     32768 :    0.1 ns          /     0.0 ns 
     65536 :    5.5 ns          /    10.5 ns 
    131072 :    8.3 ns          /    15.8 ns 
    262144 :   10.0 ns          /    18.6 ns 
    524288 :   16.2 ns          /    28.6 ns 
   1048576 :   19.4 ns          /    30.5 ns 
   2097152 :   35.0 ns          /    51.8 ns 
   4194304 :   84.8 ns          /   165.3 ns 
   8388608 :  124.7 ns          /   243.8 ns 
  16777216 :  143.9 ns          /   284.4 ns 
  33554432 :  157.2 ns          /   312.0 ns 
  67108864 :  166.8 ns          /   333.0 ns 

##########################################################################

Executing ramlat on cpu0 (sifive,u74-mc), results in ns:

       size:  1x32  2x32  1x64  2x64 1xPTR 2xPTR 4xPTR 8xPTR
         4k: 2.921 2.846 2.669 2.753 2.002 2.002 2.752 5.588 
         8k: 2.752 2.837 2.673 2.754 2.002 2.002 2.753 5.588 
        16k: 2.758 2.836 2.670 2.752 2.002 2.002 2.753 5.591 
        32k: 2.754 2.838 2.671 2.754 2.005 2.003 2.762 5.957 
        64k: 13.48 24.14 13.35 24.10 13.35 24.03 48.14 96.35 
       128k: 13.48 24.11 13.35 24.16 13.47 24.03 48.17 96.44 
       256k: 13.43 24.11 13.49 24.12 13.35 24.03 48.15 96.44 
       512k: 19.98 31.00 19.89 29.57 18.69 29.37 53.47 101.9 
      1024k: 21.16 31.76 20.99 31.71 19.85 31.49 57.70 121.0 
      2048k: 40.83 66.77 39.67 66.92 38.40 66.56 123.6 233.1 
      4096k: 126.0 220.0 125.7 219.8 129.5 219.1 401.6 764.5 
      8192k: 156.2 265.4 155.5 264.9 156.1 265.7 483.3 925.9 
     16384k: 167.3 278.9 167.8 279.3 167.9 278.9 504.8 956.9 
     32768k: 171.3 282.5 169.9 282.3 169.7 281.4 510.2 966.2 
     65536k: 171.1 284.8 171.0 285.2 170.9 283.9 515.2 965.3 
    131072k: 172.9 287.9 174.9 288.1 173.8 289.1 518.4 980.4 

##########################################################################

Executing benchmark twice on cluster 0 (sifive,u74-mc)

OpenSSL 3.0.7, built on 1 Nov 2022 (Library: OpenSSL 3.0.7 1 Nov 2022)
type             16 bytes     64 bytes    256 bytes   1024 bytes   8192 bytes  16384 bytes
aes-128-cbc      22290.44k    29084.37k    31482.71k    32103.08k    32325.63k    32292.86k
aes-128-cbc      21166.47k    27738.20k    30099.37k    30717.95k    30927.53k    30943.91k
aes-192-cbc      21790.68k    26280.09k    27390.04k    27077.29k    27181.06k    27181.06k
aes-192-cbc      20651.45k    25190.61k    26681.86k    27070.12k    27200.17k    27186.52k
aes-256-cbc      19872.61k    23520.19k    24685.74k    25009.15k    25100.29k    24914.60k
aes-256-cbc      17754.86k    22282.07k    23727.53k    24132.61k    24248.32k    24242.86k

##########################################################################

Executing benchmark single-threaded on cpu0 (sifive,u74-mc)

7-Zip (a) 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=C,Utf16=off,HugeFiles=on,64 bits,4 CPUs LE)

LE
CPU Freq: 64000000 - - - - - 512000000 1024000000 2048000000

RAM size:    7925 MB,  # CPU hardware threads:   4
RAM usage:    435 MB,  # Benchmark threads:      1

                       Compressing  |                  Decompressing
Dict     Speed Usage    R/U Rating  |      Speed Usage    R/U Rating
         KiB/s     %   MIPS   MIPS  |      KiB/s     %   MIPS   MIPS

22:        920   100    896    896  |      17507   100   1495   1495
23:        881   100    898    898  |      17191   100   1488   1488
24:        853   100    918    917  |      16833   100   1478   1478
25:        819   100    937    936  |      16389   100   1459   1459
----------------------------------  | ------------------------------
Avr:             100    912    912  |              100   1480   1480
Tot:             100   1196   1196

##########################################################################

Executing benchmark 3 times multi-threaded on CPUs 0-3

7-Zip (a) 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=C,Utf16=off,HugeFiles=on,64 bits,4 CPUs LE)

LE
CPU Freq: - - 64000000 - - - - 1024000000 -

RAM size:    7925 MB,  # CPU hardware threads:   4
RAM usage:    882 MB,  # Benchmark threads:      4

                       Compressing  |                  Decompressing
Dict     Speed Usage    R/U Rating  |      Speed Usage    R/U Rating
         KiB/s     %   MIPS   MIPS  |      KiB/s     %   MIPS   MIPS

22:       2246   280    782   2186  |      63270   386   1399   5398
23:       2595   339    780   2644  |      61983   386   1391   5363
24:       2490   343    781   2678  |      60805   387   1380   5338
25:       2087   297    802   2383  |      59337   387   1364   5281
----------------------------------  | ------------------------------
Avr:             315    786   2473  |              386   1384   5345
Tot:             351   1085   3909

7-Zip (a) 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=C,Utf16=off,HugeFiles=on,64 bits,4 CPUs LE)

LE
CPU Freq: - - - 64000000 - - - 1024000000 2048000000

RAM size:    7925 MB,  # CPU hardware threads:   4
RAM usage:    882 MB,  # Benchmark threads:      4

                       Compressing  |                  Decompressing
Dict     Speed Usage    R/U Rating  |      Speed Usage    R/U Rating
         KiB/s     %   MIPS   MIPS  |      KiB/s     %   MIPS   MIPS

22:       2596   327    772   2526  |      63344   386   1400   5404
23:       2233   291    781   2275  |      62156   387   1391   5378
24:       2492   343    782   2680  |      60779   387   1380   5336
25:       1437   199    824   1641  |      59272   387   1363   5275
----------------------------------  | ------------------------------
Avr:             290    790   2281  |              387   1384   5348
Tot:             338   1087   3814

7-Zip (a) 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=C,Utf16=off,HugeFiles=on,64 bits,4 CPUs LE)

LE
CPU Freq: 64000000 - - - - - - 1024000000 -

RAM size:    7925 MB,  # CPU hardware threads:   4
RAM usage:    882 MB,  # Benchmark threads:      4

                       Compressing  |                  Decompressing
Dict     Speed Usage    R/U Rating  |      Speed Usage    R/U Rating
         KiB/s     %   MIPS   MIPS  |      KiB/s     %   MIPS   MIPS

22:       2588   324    776   2518  |      63438   387   1400   5412
23:       2537   334    773   2586  |      62016   386   1389   5366
24:       2552   349    785   2744  |      60776   387   1380   5335
25:       2163   307    804   2470  |      59022   386   1362   5253
----------------------------------  | ------------------------------
Avr:             329    785   2579  |              386   1382   5342
Tot:             358   1084   3961

Compression: 2473,2281,2579
Decompression: 5345,5348,5342
Total: 3909,3814,3961

##########################################################################

Testing maximum cpufreq again, still under full load. System health now:

Time        CPU    load %cpu %sys %usr %nice %io %irq   Temp
20:32:23: 1500MHz  3.94  76%   1%  74%   0%   0%   0%  45.5°C

Checking cpufreq OPP (sifive,u74-mc):

Cpufreq OPP: 1500    Measured: 1498 (1498.946/1498.946/1498.912)

##########################################################################

Hardware sensors:

120e0000.tmon-isa-0000
temp1:        +45.2 C  

##########################################################################

Thermal source: /sys/devices/virtual/thermal/thermal_zone0/ (cpu-thermal)

System health while running tinymembench:

Time        CPU    load %cpu %sys %usr %nice %io %irq   Temp
20:21:14: 1500MHz  0.28   7%   0%   5%   0%   1%   0%  42.5°C
20:21:24: 1500MHz  0.39  25%   0%  25%   0%   0%   0%  42.6°C
20:21:34: 1500MHz  0.48  25%   0%  25%   0%   0%   0%  42.6°C
20:21:44: 1500MHz  0.56  25%   0%  25%   0%   0%   0%  42.8°C
20:21:54: 1500MHz  0.63  25%   0%  24%   0%   0%   0%  42.6°C

System health while running ramlat:

Time        CPU    load %cpu %sys %usr %nice %io %irq   Temp
20:21:59: 1500MHz  0.66   7%   0%   5%   0%   1%   0%  42.7°C
20:22:02: 1500MHz  0.69  25%   0%  25%   0%   0%   0%  42.6°C
20:22:05: 1500MHz  0.71  25%   0%  24%   0%   0%   0%  42.6°C
20:22:08: 1500MHz  0.71  25%   0%  24%   0%   0%   0%  42.6°C
20:22:11: 1500MHz  0.74  25%   0%  25%   0%   0%   0%  42.6°C
20:22:14: 1500MHz  0.74  25%   0%  24%   0%   0%   0%  42.7°C
20:22:17: 1500MHz  0.76  25%   0%  25%   0%   0%   0%  42.6°C
20:22:20: 1500MHz  0.78  25%   0%  24%   0%   0%   0%  42.6°C
20:22:23: 1500MHz  0.78  25%   0%  24%   0%   0%   0%  42.6°C
20:22:26: 1500MHz  0.79  25%   0%  24%   0%   0%   0%  42.6°C
20:22:29: 1500MHz  0.79  25%   0%  25%   0%   0%   0%  42.7°C
20:22:32: 1500MHz  0.81  25%   0%  24%   0%   0%   0%  42.8°C
20:22:35: 1500MHz  0.83  25%   1%  24%   0%   0%   0%  42.8°C
20:22:39: 1500MHz  0.83  25%   0%  25%   0%   0%   0%  42.7°C

System health while running OpenSSL benchmark:

Time        CPU    load %cpu %sys %usr %nice %io %irq   Temp
20:22:40: 1500MHz  0.83   7%   0%   6%   0%   1%   0%  42.8°C
20:22:56: 1500MHz  0.88  25%   0%  25%   0%   0%   0%  42.8°C
20:23:12: 1500MHz  0.90  25%   0%  25%   0%   0%   0%  42.8°C
20:23:28: 1500MHz  0.93  25%   0%  24%   0%   0%   0%  42.9°C
20:23:44: 1500MHz  0.94  25%   0%  24%   0%   0%   0%  42.9°C
20:24:00: 1500MHz  0.96  25%   0%  24%   0%   0%   0%  43.0°C
20:24:16: 1500MHz  0.97  25%   0%  25%   0%   0%   0%  43.0°C

System health while running 7-zip single core benchmark:

Time        CPU    load %cpu %sys %usr %nice %io %irq   Temp
20:24:28: 1500MHz  0.97   8%   0%   6%   0%   1%   0%  43.1°C
20:24:39: 1500MHz  0.98  25%   0%  24%   0%   0%   0%  43.0°C
20:24:50: 1500MHz  0.98  25%   0%  24%   0%   0%   0%  43.0°C
20:25:01: 1500MHz  0.99  25%   0%  24%   0%   0%   0%  43.0°C
20:25:12: 1500MHz  0.99  25%   0%  24%   0%   0%   0%  43.1°C
20:25:23: 1500MHz  0.99  25%   0%  24%   0%   0%   0%  43.1°C
20:25:34: 1500MHz  0.99  25%   0%  24%   0%   0%   0%  43.1°C
20:25:46: 1500MHz  1.00  25%   0%  24%   0%   0%   0%  43.1°C
20:25:57: 1500MHz  1.00  25%   0%  24%   0%   0%   0%  43.2°C
20:26:08: 1500MHz  1.00  25%   0%  24%   0%   0%   0%  43.2°C
20:26:19: 1500MHz  1.00  25%   0%  24%   0%   0%   0%  43.2°C
20:26:30: 1500MHz  1.00  25%   0%  24%   0%   0%   0%  43.2°C

System health while running 7-zip multi core benchmark:

Time        CPU    load %cpu %sys %usr %nice %io %irq   Temp
20:26:37: 1500MHz  1.00   9%   0%   7%   0%   0%   0%  43.3°C
20:27:01: 1500MHz  1.72  83%   0%  83%   0%   0%   0%  44.0°C
20:27:23: 1500MHz  2.55  87%   0%  86%   0%   0%   0%  44.1°C
20:27:46: 1500MHz  3.44  93%   1%  92%   0%   0%   0%  44.4°C
20:28:08: 1500MHz  3.33  82%   1%  80%   0%   0%   0%  44.5°C
20:28:31: 1500MHz  3.33  74%   0%  73%   0%   0%   0%  44.1°C
20:28:54: 1500MHz  3.51  84%   0%  84%   0%   0%   0%  44.6°C
20:29:17: 1500MHz  3.22  84%   0%  83%   0%   0%   0%  44.6°C
20:29:41: 1500MHz  3.45  92%   1%  91%   0%   0%   0%  45.0°C
20:30:03: 1500MHz  3.46  53%   1%  52%   0%   0%   0%  44.7°C
20:30:25: 1500MHz  3.47  47%   1%  46%   0%   0%   0%  44.7°C
20:30:47: 1500MHz  3.37  82%   0%  81%   0%   0%   0%  45.0°C
20:31:12: 1500MHz  3.63  90%   0%  89%   0%   0%   0%  45.2°C
20:31:35: 1500MHz  3.67  90%   0%  89%   0%   0%   0%  45.4°C
20:31:57: 1500MHz  3.93  86%   1%  85%   0%   0%   0%  45.4°C
20:32:23: 1500MHz  3.94  76%   1%  74%   0%   0%   0%  45.5°C

##########################################################################

Linux 5.15.0-starfive (starfive) 	04/02/23 	_riscv64_	(4 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          16.86    0.01    0.68    0.87    0.00   81.58

Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd
mmcblk1           6.96       131.17       220.22      1721.18     373013     626252    4894582
nvme0n1           0.03         0.74         0.00         0.00       2108          0          0

               total        used        free      shared  buff/cache   available
Mem:           7.7Gi       389Mi       7.3Gi       3.2Mi       142Mi       7.4Gi
Swap:             0B          0B          0B

CPU sysfs topology (clusters, cpufreq members, clockspeeds)
                 cpufreq   min    max
 CPU    cluster  policy   speed  speed   core type
  0       -1        0      375    1500   sifive,u74-mc
  1       -1        0      375    1500   sifive,u74-mc
  2       -1        0      375    1500   sifive,u74-mc
  3       -1        0      375    1500   sifive,u74-mc

Architecture:        riscv64
Byte Order:          Little Endian
CPU(s):              4
On-line CPU(s) list: 0-3

SoC guess: StarFive JH7110
DT compat: starfive,visionfive-v2
           starfive,jh7110
 Compiler: /usr/bin/gcc (Debian 12.2.0-10) 12.2.0 / riscv64-linux-gnu
 Userland: riscv64
   Kernel: 5.15.0-starfive/riscv64
           CONFIG_HZ=100
           CONFIG_HZ_100=y
           CONFIG_PREEMPT_COUNT=y
           CONFIG_PREEMPT_NONE=y

##########################################################################

Kernel 5.15.0 is not latest 5.15.105 LTS that was released on 2023-03-30.

See https://endoflife.date/linux for details. It is somewhat likely that
a lot of exploitable vulnerabilities exist for this kernel as well as many
unfixed bugs.

But this version string doesn't matter since this is not an official LTS Linux
from kernel.org. This device runs a StarFive vendor/BSP kernel.

##########################################################################

cpu0/index0: 32K, level: 1, type: Instruction
cpu0/index1: 32K, level: 1, type: Data
cpu0/index2: 2048K, level: 2, type: Unified
cpu1/index0: 32K, level: 1, type: Instruction
cpu1/index1: 32K, level: 1, type: Data
cpu1/index2: 2048K, level: 2, type: Unified
cpu2/index0: 32K, level: 1, type: Instruction
cpu2/index1: 32K, level: 1, type: Data
cpu2/index2: 2048K, level: 2, type: Unified
cpu3/index0: 32K, level: 1, type: Instruction
cpu3/index1: 32K, level: 1, type: Data
cpu3/index2: 2048K, level: 2, type: Unified

##########################################################################

   cpu_vdd: 1040 mV (1540 mV max)

   opp-table-0:
       375 MHz    800.0 mV
       500 MHz    800.0 mV
       750 MHz    800.0 mV
      1500 MHz   1040.0 mV

##########################################################################

Results validation:

  * Measured clockspeed not lower than advertised max CPU clockspeed
  * Background activity (%system) OK
  * No throttling

| StarFive VisionFive V2 | 1500 MHz | 5.15 | Debian GNU/Linux bookworm/sid riscv64 | 3890 | 1196 | 24580 | 880 | 770 | - |